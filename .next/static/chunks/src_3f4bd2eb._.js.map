{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/eq/Documents/GithubProjects/velocity/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\n// These would come from environment variables in production\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || ''\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables')\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\nexport type UserRole = 'admin' | 'operator' | 'customer'\nexport type LeadStatus = 'new' | 'contacted' | 'qualified' | 'converted' | 'rejected'\nexport type NotificationType = 'lead_created' | 'system_alert' | 'booking_confirmed'\n\n// Database types (would be auto-generated from Supabase CLI)\nexport interface Database {\n  public: {\n    Tables: {\n      profiles: {\n        Row: {\n          id: string\n          full_name: string | null\n          company: string | null\n          role: UserRole\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          id: string\n          full_name?: string | null\n          company?: string | null\n          role?: UserRole\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          full_name?: string | null\n          company?: string | null\n          role?: UserRole\n          created_at?: string\n          updated_at?: string\n        }\n      }\n      leads: {\n        Row: {\n          id: string\n          email: string\n          full_name: string\n          company: string | null\n          phone: string | null\n          message: string | null\n          lead_type: string\n          status: LeadStatus\n          source: string | null\n          assigned_to: string | null\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          id?: string\n          email: string\n          full_name: string\n          company?: string | null\n          phone?: string | null\n          message?: string | null\n          lead_type?: string\n          status?: LeadStatus\n          source?: string | null\n          assigned_to?: string | null\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          email?: string\n          full_name?: string\n          company?: string | null\n          phone?: string | null\n          message?: string | null\n          lead_type?: string\n          status?: LeadStatus\n          source?: string | null\n          assigned_to?: string | null\n          created_at?: string\n          updated_at?: string\n        }\n      }\n      notifications: {\n        Row: {\n          id: string\n          user_id: string\n          type: NotificationType\n          title: string\n          message: string\n          read: boolean\n          data: any | null\n          created_at: string\n        }\n        Insert: {\n          id?: string\n          user_id: string\n          type: NotificationType\n          title: string\n          message: string\n          read?: boolean\n          data?: any | null\n          created_at?: string\n        }\n        Update: {\n          id?: string\n          user_id?: string\n          type?: NotificationType\n          title?: string\n          message?: string\n          read?: boolean\n          data?: any | null\n          created_at?: string\n        }\n      }\n      energy_systems: {\n        Row: {\n          id: string\n          name: string\n          location: string | null\n          system_type: string | null\n          status: string\n          capacity_mw: number | null\n          current_output_mw: number | null\n          efficiency_percent: number | null\n          last_maintenance: string | null\n          next_maintenance: string | null\n          alerts: any[]\n          metadata: any\n          created_at: string\n          updated_at: string\n        }\n        Insert: {\n          id?: string\n          name: string\n          location?: string | null\n          system_type?: string | null\n          status?: string\n          capacity_mw?: number | null\n          current_output_mw?: number | null\n          efficiency_percent?: number | null\n          last_maintenance?: string | null\n          next_maintenance?: string | null\n          alerts?: any[]\n          metadata?: any\n          created_at?: string\n          updated_at?: string\n        }\n        Update: {\n          id?: string\n          name?: string\n          location?: string | null\n          system_type?: string | null\n          status?: string\n          capacity_mw?: number | null\n          current_output_mw?: number | null\n          efficiency_percent?: number | null\n          last_maintenance?: string | null\n          next_maintenance?: string | null\n          alerts?: any[]\n          metadata?: any\n          created_at?: string\n          updated_at?: string\n        }\n      }\n      system_logs: {\n        Row: {\n          id: string\n          system_id: string\n          user_id: string | null\n          action: string\n          details: string | null\n          severity: string\n          timestamp: string\n        }\n        Insert: {\n          id?: string\n          system_id: string\n          user_id?: string | null\n          action: string\n          details?: string | null\n          severity?: string\n          timestamp?: string\n        }\n        Update: {\n          id?: string\n          system_id?: string\n          user_id?: string | null\n          action?: string\n          details?: string | null\n          severity?: string\n          timestamp?: string\n        }\n      }\n    }\n  }\n}\n\nexport type Tables<T extends keyof Database['public']['Tables']> = Database['public']['Tables'][T]['Row']\nexport type InsertTables<T extends keyof Database['public']['Tables']> = Database['public']['Tables'][T]['Insert']\nexport type UpdateTables<T extends keyof Database['public']['Tables']> = Database['public']['Tables'][T]['Update']"],"names":[],"mappings":";;;;AAGoB;AAHpB;;AAEA,4DAA4D;AAC5D,MAAM,cAAc,uEAAwC;AAC5D,MAAM,kBAAkB,4DAA6C;AAErE;;AAIO,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/eq/Documents/GithubProjects/velocity/src/components/AuthProvider.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useEffect, useState } from 'react'\nimport { User, Session } from '@supabase/supabase-js'\nimport { supabase } from '@/lib/supabase'\nimport { AuthState, AuthUser } from '@/lib/auth'\n\ninterface AuthContextType extends AuthState {\n  signUp: (email: string, password: string, metadata?: any) => Promise<{ data: any; error: any }>\n  signIn: (email: string, password: string) => Promise<{ data: any; error: any }>\n  signOut: () => Promise<{ error: any }>\n  resetPassword: (email: string) => Promise<{ data: any; error: any }>\n  updateProfile: (updates: any) => Promise<{ data: any; error: any }>\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<AuthUser | null>(null)\n  const [session, setSession] = useState<Session | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    // Get initial session\n    const getInitialSession = async () => {\n      const { data: { session }, error } = await supabase.auth.getSession()\n      if (error) {\n        console.error('Error getting session:', error)\n      } else {\n        setSession(session)\n        setUser(session?.user as AuthUser || null)\n      }\n      setLoading(false)\n    }\n\n    getInitialSession()\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        setSession(session)\n        setUser(session?.user as AuthUser || null)\n        setLoading(false)\n      }\n    )\n\n    return () => {\n      subscription.unsubscribe()\n    }\n  }, [])\n\n  const signUp = async (email: string, password: string, metadata?: any) => {\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: metadata\n      }\n    })\n    return { data, error }\n  }\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password\n    })\n    return { data, error }\n  }\n\n  const signOut = async () => {\n    const { error } = await supabase.auth.signOut()\n    return { error }\n  }\n\n  const resetPassword = async (email: string) => {\n    const { data, error } = await supabase.auth.resetPasswordForEmail(email, {\n      redirectTo: `${window.location.origin}/auth/reset-password`\n    })\n    return { data, error }\n  }\n\n  const updateProfile = async (updates: any) => {\n    const { data, error } = await supabase.auth.updateUser({\n      data: updates\n    })\n    return { data, error }\n  }\n\n  const value = {\n    user,\n    session,\n    loading,\n    signUp,\n    signIn,\n    signOut,\n    resetPassword,\n    updateProfile\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider')\n  }\n  return context\n}"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAeA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAkB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,sBAAsB;YACtB,MAAM;4DAAoB;oBACxB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,UAAU;oBACnE,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,0BAA0B;oBAC1C,OAAO;wBACL,WAAW;wBACX,QAAQ,CAAA,oBAAA,8BAAA,QAAS,IAAI,KAAgB;oBACvC;oBACA,WAAW;gBACb;;YAEA;YAEA,0BAA0B;YAC1B,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,qIAAQ,CAAC,IAAI,CAAC,iBAAiB;0CAChE,OAAO,OAAO;oBACZ,WAAW;oBACX,QAAQ,CAAA,oBAAA,8BAAA,QAAS,IAAI,KAAgB;oBACrC,WAAW;gBACb;;YAGF;0CAAO;oBACL,aAAa,WAAW;gBAC1B;;QACF;iCAAG,EAAE;IAEL,MAAM,SAAS,OAAO,OAAe,UAAkB;QACrD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YACjD;YACA;YACA,SAAS;gBACP,MAAM;YACR;QACF;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAC7D;YACA;QACF;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,UAAU;QACd,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,OAAO;YAAE;QAAM;IACjB;IAEA,MAAM,gBAAgB,OAAO;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO;YACvE,YAAY,AAAC,GAAyB,OAAvB,OAAO,QAAQ,CAAC,MAAM,EAAC;QACxC;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,gBAAgB,OAAO;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;YACrD,MAAM;QACR;QACA,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GAxFgB;KAAA;AA0FT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}}]
}